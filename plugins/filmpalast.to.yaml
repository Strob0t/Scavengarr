# plugins/filmpalast.to.yaml
name: "filmpalast"
version: "1.1.0"
base_url: "https://filmpalast.to"
provides: "stream"
default_language: "de"

scraping:
  mode: "scrapy"
  start_stage: "search_results"
  max_depth: 4
  delay_seconds: 2.0

  stages:
    - name: "search_results"
      type: "list"
      url_pattern: "/search/title/{query}"
      selectors:
        rows: "article"
        title: "h2 a"
        link: "h2 a"
      field_attributes:
        link: ["href"]
      next_stage: "movie_detail"

    - name: "movie_detail"
      type: "detail"
      url: "/"
      selectors:
        title: "h2.bgDark"
        release_name: "span#release_text"
        description: "span[itemprop='description']"
        download_links:
          container: "div#grap-stream-list"
          item_group: "ul.currentStreamLinks"
          items: "li"
          fields:
            hoster_name: "p.hostName, p"
            link: "a.button.iconPlay, a.button"
          field_attributes:
            link: ["data-player-url", "href", "onclick"]

auth:
  type: "none"

http:
  timeout_seconds: 15.0
  follow_redirects: true
  user_agent: "Scavengarr/1.0"
