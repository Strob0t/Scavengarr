# plugins/warezomen.yaml
name: "warezomen"
version: "1.0.0"
base_url: "https://warezomen.com"
provides: "download"

scraping:
  mode: "scrapy"
  start_stage: "search_results"

  stages:
    - name: "search_results"
      type: "list"
      url_pattern: "/download/{query}/"
      query_transform: "slugify"
      selectors:
        rows: "table.download tbody tr"
        title: "td.n a"
        download_link: "td.n a"
        published_date: "td:nth-child(4)"
        custom:
          site: "td:nth-child(2)"
          type: "td.t2"
      field_attributes:
        title: ["title"]
        download_link: ["href"]
      pagination:
        enabled: true
        selector: "td#pages a:-soup-contains(\"Next Page\")"
        max_pages: 50

auth:
  type: "none"

http:
  timeout_seconds: 15.0
  follow_redirects: true
