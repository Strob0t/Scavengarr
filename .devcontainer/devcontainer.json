{
  "name": "Scanvengarr MCP Full",
  "image": "mcr.microsoft.com/devcontainers/python:1-3.12-bookworm",
  "runArgs": [
    "--env-file",
    "./.env.devcontainer"
  ],
  "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    "ghcr.io/devcontainers/features/nix:1": {
      "version": "latest",
      "multiUser": true,
      "extraNixConfig": "experimental-features = nix-command flakes"
    }
  },
  "forwardPorts": [
    4317,
    6280,
    7979,
    8001,
    9000,
    14268,
    16686
  ],
  "postStartCommand": "sudo /usr/local/share/nix-entrypoint.sh",
  "postAttachCommand": "nix --extra-experimental-features 'nix-command flakes' develop .#default; which poetry || pipx install poetry; export PATH=\"$HOME/.local/bin:$PATH\"; poetry config virtualenvs.in-project true; [ -f pyproject.toml ] && poetry install; . .venv/bin/activate; echo \"Starting MCP...\" && docker compose --env-file ./.env.devcontainer up -d && docker compose ps'",
  "postCreateCommand": "mkdir -p ~/continue && cp .continue/config.yaml ~/continue/config.yaml",
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.pytest",
        "ms-python.black-formatter",
        "redhat.vscode-yaml",
        "Continue.continue"
      ],
      "settings": {
        "dev.containers.mountWaylandSocket": false
      }
    }
  },
  "remoteUser": "vscode"
}